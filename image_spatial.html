

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" sizes="16x16" type="image/png" href="_static/favicon-16x16.png">
    <link rel="icon" sizes="32x32" type="image/png" href="_static/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="_static/apple-touch-icon.png">
    <link rel="android-chrome" sizes="192x192" type="image/png" href="_static/android-chrome-192x192.png ">
    <link rel="android-chrome" sizes="512x512" type="image/png" href="_static/android-chrome-512x512.png ">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spatial operations &mdash; Machine Vision Toolbox 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"tex": {"macros": {"presup": ["\\,{}^{#1}\\!", 1], "SE": ["\\mathbf{SE}(#1)", 1], "SO": ["\\mathbf{SO}(#1)", 1], "se": ["\\mathbf{se}(#1)", 1], "so": ["\\mathbf{so}(#1)", 1], "vec": ["\\boldsymbol{#1}", 1], "dvec": ["\\dot{\\boldsymbol{#1}}", 1], "hvec": ["\\tilde{\\boldsymbol{#1}}", 1], "ddvec": ["\\ddot{\\boldsymbol{#1}}", 1], "fvec": ["\\presup{#1}\\boldsymbol{#2}", 2], "fdvec": ["\\presup{#1}\\dot{\\boldsymbol{#2}}", 2], "fddvec": ["\\presup{#1}\\ddot{\\boldsymbol{#2}}", 2], "norm": ["\\Vert #1 \\Vert", 1], "mat": ["\\mathbf{#1}", 1], "fmat": ["\\presup{#1}\\mathbf{#2}", 2], "sk": ["\\left[#1\\right]", 1], "skx": ["\\left[#1\\right]_{\\times}", 1], "vex": ["\\vee\\left( #1\\right)", 1], "vexx": ["\\vee_{\\times}\\left( #1\\right)", 1], "q": "\\mathring{q}", "fq": ["\\presup{#1}\\mathring{q}", 1]}}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Machine Vision Toolbox
              <img src="_static/VisionToolboxLogo_CircBlack.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="high-level.html">Class reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="low-level.html">Function reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="blocks.html">bdsim blocks</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine Vision Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Spatial operations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/image_spatial.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="spatial-operations">
<h1>Spatial operations<a class="headerlink" href="#spatial-operations" title="Link to this heading"></a></h1>
<p>These methods perform linear spatial filtering operations such as smoothing,
convolution on greyscale and color images.</p>
<dl class="py class">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.ImageSpatial.</span></span><span class="sig-name descname"><span class="pre">ImageSpatialMixin</span></span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth">
<span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth" title="Link to this definition"></a></dt>
<dd><p>Smooth image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of the Gaussian kernel</p></li>
<li><p><strong>h</strong> (<em>int</em>) – half-width of the kernel</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – option for convolution, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘same’</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘reflect’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>smoothed image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Smooth the image by convolving with a Gaussian kernel of standard
deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.  If <code class="docutils literal notranslate"><span class="pre">h</span></code> is not given the kernel half width is set
to <span class="math notranslate nohighlight">\(2 \mbox{ceil}(3 \sigma) + 1\)</span>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">smooth</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7fdc5af7e970&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Smooths all planes of the input image.</p></li>
<li><p>The Gaussian kernel has a unit volume.</p></li>
<li><p>If input image is integer it is converted to float, convolved,
then converted back to integer.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">machinevisiontoolbox.Kernel.Gauss</span></code> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="Link to this definition"></a></dt>
<dd><p>Image convolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> (<em>ndarray</em><em>(</em><em>N</em><em>,</em><em>M</em><em>)</em>) – kernel</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – option for convolution, defaults to ‘same’</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, defaults to ‘reflect’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>convolved image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Computes the convolution of image with the kernel <code class="docutils literal notranslate"><span class="pre">K</span></code>.</p>
<p>There are two options that control what happens at the edge of the image
where the convolution window lies outside the image border.  <code class="docutils literal notranslate"><span class="pre">mode</span></code>
controls the size of the resulting image, while <code class="docutils literal notranslate"><span class="pre">border</span></code> controls how
pixel values are extrapolated outside the image border.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">mode</span></code></p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'same'</span></code></p></td>
<td><p>output image is same size as input image (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'full'</span></code></p></td>
<td><p>output image is larger than the input image, add border to input image</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'valid'</span></code></p></td>
<td><p>output image is smaller than the input image and contains only valid pixels</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">border</span></code></p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'replicate'</span></code></p></td>
<td><p>replicate border pixels outwards</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'pad'</span></code></p></td>
<td><p>outside pixels are set to <code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'wrap'</span></code></p></td>
<td><p>borders are joined, left to right, top to bottom</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'reflect'</span></code></p></td>
<td><p>outside pixels reflect inside pixels</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'reflect101'</span></code></p></td>
<td><p>outside pixels reflect inside pixels except for edge</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'none'</span></code></p></td>
<td><p>do not look outside of border</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">K</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">)))</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7f14974ab970&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The kernel is typically square with an odd side length.</p></li>
<li><p>The result has the same datatype as the input image.  For a kernel
where the results could be negative (eg. edge detection kernel)
this will cause issues such as value wraparound.</p></li>
<li><p>If the image is color (has multiple planes) the kernel is
applied to each plane, resulting in an output image with the same
number of planes.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.Kernel" title="machinevisiontoolbox.ImageSpatial.Kernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Kernel</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smooth</span></code></a> <code class="xref py py-func docutils literal notranslate"><span class="pre">opencv.filter2D</span></code> <code class="xref py py-func docutils literal notranslate"><span class="pre">opencv.copyMakeBorder</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients">
<span class="sig-name descname"><span class="pre">gradients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.gradients"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients" title="Link to this definition"></a></dt>
<dd><p>Compute horizontal and vertical gradients</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> (<em>2D ndarray</em><em>, </em><em>optional</em>) – derivative kerne, defaults to Sobel</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – option for convolution, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘same’</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘reflect’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, , see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gradient images</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Compute horizontal and vertical gradient images.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">,</span> <span class="n">grey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Iu</span><span class="p">,</span> <span class="n">Iv</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">gradients</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.Kernel" title="machinevisiontoolbox.ImageSpatial.Kernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Kernel</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.direction">
<span class="sig-name descname"><span class="pre">direction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertical</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.direction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.direction" title="Link to this definition"></a></dt>
<dd><p>Gradient direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>im</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – vertical gradient image</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gradient direction in radians</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Compute the per-pixel gradient direction from two images comprising the
horizontal and vertical gradient components.</p>
<div class="math notranslate nohighlight">
\[\theta_{u,v} = \tan^{-1} \frac{\mat{I}_{v: u,v}}{\mat{I}_{u: u,v}}\]</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">,</span> <span class="n">grey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Iu</span><span class="p">,</span> <span class="n">Iv</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">gradients</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">direction</span> <span class="o">=</span> <span class="n">Iu</span><span class="o">.</span><span class="n">direction</span><span class="p">(</span><span class="n">Iv</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gradients</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.Harris_corner_strength">
<span class="sig-name descname"><span class="pre">Harris_corner_strength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.04</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.Harris_corner_strength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.Harris_corner_strength" title="Link to this definition"></a></dt>
<dd><p>Harris corner strength image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>float</em><em>, </em><em>optional</em>) – Harris parameter, defaults to 0.04</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – kernel half width, defaults to 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Harris corner strength image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Returns an image containing Harris corner strength values.  This is
positive for high gradient in orthogonal directions, and negative
for high gradient in a single direction.</p>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 12.3.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.gradients"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gradients</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">Harris</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.window">
<span class="sig-name descname"><span class="pre">window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">se</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.window" title="Link to this definition"></a></dt>
<dd><p>Generalized spatial operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – function applied to window</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half width of structuring element</p></li>
<li><p><strong>se</strong> (<em>ndarray</em><em>(</em><em>N</em><em>,</em><em>M</em><em>)</em><em>, </em><em>optional</em>) – structuring element</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘reflect’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – <code class="docutils literal notranslate"><span class="pre">border</span></code> is not a valid option</p></li>
<li><p><strong>TypeError</strong> – <code class="docutils literal notranslate"><span class="pre">func</span></code> not callable</p></li>
<li><p><strong>ValueError</strong> – single channel images only</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>transformed image</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Returns an image where each pixel is the result of applying the function
<code class="docutils literal notranslate"><span class="pre">func</span></code> to a neighbourhood centred on the corresponding pixel in image.
The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> becomes the corresponding pixel value.</p>
<p>The neighbourhood is defined in two ways:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">se</span></code> is given then it is the the size of the structuring element
<code class="docutils literal notranslate"><span class="pre">se</span></code> which should have odd side lengths. The elements in the
neighbourhood corresponding to non-zero elements in <code class="docutils literal notranslate"><span class="pre">se</span></code> are packed
into a vector (in column order from top left) and passed to the
specified callable function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">se</span></code> is None then <code class="docutils literal notranslate"><span class="pre">h</span></code> is the half width of a <span class="math notranslate nohighlight">\(w \times
w\)</span> square structuring element of ones, where <span class="math notranslate nohighlight">\(w =2h+1\)</span>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">,</span> <span class="n">grey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The structuring element should have an odd side length.</p></li>
<li><p>Is slow since the function <code class="docutils literal notranslate"><span class="pre">func</span></code> must be invoked once for
every output pixel.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.generic_filter.html#scipy.ndimage.generic_filter" title="(in SciPy v1.14.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.ndimage.generic_filter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zerocross">
<span class="sig-name descname"><span class="pre">zerocross</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.zerocross"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zerocross" title="Link to this definition"></a></dt>
<dd><p>Compute zero crossing</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean image</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Compute a zero-crossing image, where pixels are true if they are adjacent to
a change in sign.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">U</span> <span class="o">-</span> <span class="n">V</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> -2.00 -1.00  0.00  1.00  2.00  3.00</span>
<span class="go"> -3.00 -2.00 -1.00  0.00  1.00  2.00</span>
<span class="go"> -4.00 -3.00 -2.00 -1.00  0.00  1.00</span>
<span class="go"> -5.00 -4.00 -3.00 -2.00 -1.00  0.00</span>
<span class="go"> -6.00 -5.00 -4.00 -3.00 -2.00 -1.00</span>
<span class="go"> -7.00 -6.00 -5.00 -4.00 -3.00 -2.00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">zerocross</span><span class="p">()</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 0 0 0 1 0 0</span>
<span class="go"> 0 0 1 0 1 0</span>
<span class="go"> 0 0 0 1 0 1</span>
<span class="go"> 0 0 0 0 1 0</span>
<span class="go"> 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>Use morphological filtering with 3x3 structuring element, can
lead to erroneous values in border pixels.</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Laplace</span></code> <code class="xref py py-meth docutils literal notranslate"><span class="pre">LoG</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.scalespace">
<span class="sig-name descname"><span class="pre">scalespace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.scalespace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.scalespace" title="Link to this definition"></a></dt>
<dd><p>Compute image scalespace sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>omt</em>) – number of steps</p></li>
<li><p><strong>sigma</strong> (<em>scalar</em><em>, </em><em>optional</em>) – Gaussian filter width, defaults to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Gaussian and difference of Gaussian sequences, scale factors</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, list of float</p>
</dd>
</dl>
<p>Compute a scalespace image sequence by consecutively smoothing the input
image with a Gaussian of width <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.  The difference between
consecutive smoothings is the difference of Gaussian which is an
approximation to the Laplacian of Gaussian.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mona</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s2">&quot;monalisa.png&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">);</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">scales</span> <span class="o">=</span> <span class="n">mona</span><span class="o">.</span><span class="n">scalespace</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>The two image sequences have the same length, the original image is
not included in the list of smoothed images.</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 12.3.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.pyramid" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.pyramid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smooth</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Gauss.html#machinevisiontoolbox.ImageSpatial.Kernel.Gauss" title="machinevisiontoolbox.ImageSpatial.Kernel.Gauss"><code class="xref py py-class docutils literal notranslate"><span class="pre">Kernel.Gauss</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.LoG.html#machinevisiontoolbox.ImageSpatial.Kernel.LoG" title="machinevisiontoolbox.ImageSpatial.Kernel.LoG"><code class="xref py py-class docutils literal notranslate"><span class="pre">Kernel.LoG</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.pyramid">
<span class="sig-name descname"><span class="pre">pyramid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replicate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.pyramid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.pyramid" title="Link to this definition"></a></dt>
<dd><p>Pyramidal image decomposition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of Gaussian kernel</p></li>
<li><p><strong>N</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pyramid levels to be computed, defaults to all</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, see <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.convolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convolve</span></code></a>, defaults to ‘replicate’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of images at each pyramid level</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Returns a pyramid decomposition of the input image using Gaussian
smoothing with standard deviation of <code class="docutils literal notranslate"><span class="pre">sigma</span></code>. The return is a list
array of images each one having dimensions half that of the previous
image. The pyramid is computed down to a non-halvable image size.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyramid</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">pyramid</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">pyramid</span><span class="p">)</span>
<span class="go">11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyramid</span>
<span class="go">[Image: 677 x 700 (uint8), Image: 339 x 350 (uint8), Image: 170 x 175 (uint8), Image: 85 x 88 (uint8), Image: 43 x 44 (uint8), Image: 22 x 22 (uint8), Image: 11 x 11 (uint8), Image: 6 x 6 (uint8), Image: 3 x 3 (uint8), Image: 2 x 2 (uint8), Image: 1 x 1 (uint8)]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Works for greyscale images only.</p></li>
<li><p>Converts a color image to greyscale.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 12.3.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.smooth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smooth</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.scalespace" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.scalespace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scalespace</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.canny">
<span class="sig-name descname"><span class="pre">canny</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">th0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">th1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.canny"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.canny" title="Link to this definition"></a></dt>
<dd><p>Canny edge detection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>optional</em>) – standard deviation for Gaussian kernel smoothing, defaults to 1</p></li>
<li><p><strong>th0</strong> (<em>float</em>) – lower threshold</p></li>
<li><p><strong>th1</strong> (<em>float</em>) – upper threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>edge image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Computes an edge image obtained using the Canny edge detector algorithm.
Hysteresis filtering is applied to the gradient image: edge pixels &gt;
<code class="docutils literal notranslate"><span class="pre">th1</span></code> are connected to adjacent pixels &gt; <code class="docutils literal notranslate"><span class="pre">th0</span></code>, those below <code class="docutils literal notranslate"><span class="pre">th0</span></code>
are set to zero.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">canny</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Produces a zero image with single pixel wide edges having
non-zero values.</p></li>
<li><p>Larger values correspond to stronger edges.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">th1</span></code> is zero then no hysteresis filtering is performed.</p></li>
<li><p>A color image is automatically converted to greyscale first.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>“A Computational Approach To Edge Detection”, J. Canny,
IEEE Trans. Pattern Analysis and Machine Intelligence,
8(6):679–698, 1986.</p></li>
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">footprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replicate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordervalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank" title="Link to this definition"></a></dt>
<dd><p>Rank filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>footprint</strong> (<em>ndarray</em><em>(</em><em>N</em><em>,</em><em>M</em><em>)</em><em>, </em><em>optional</em>) – filter footprint or structuring element</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half width of structuring element</p></li>
<li><p><strong>rank</strong> (<em>int</em><em>, </em><em>str</em>) – rank of filter</p></li>
<li><p><strong>border</strong> (<em>str</em><em>, </em><em>optional</em>) – option for boundary handling, defaults to ‘replicate’</p></li>
<li><p><strong>bordervalue</strong> (<em>scalar</em><em>, </em><em>optional</em>) – padding value, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rank filtered image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Return a rank filtered version of image.  Only pixels corresponding to
non-zero elements of the structuring element are ranked, and the value
that is <code class="docutils literal notranslate"><span class="pre">rank</span></code> in rank becomes the corresponding output pixel value.
The highest rank, the maximum, is rank 0.  The rank can also be given
as a string: ‘min|imumum’, ‘max|imum’, ‘med|ian’, long or short versions
are supported.</p>
<p>The structuring element is given as:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">footprint</span></code> a 2D Numpy array containing zero or one values, or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h</span></code> which is the half width <span class="math notranslate nohighlight">\(w=2h+1\)</span> of an array of ones</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">  0  1  2  3  4</span>
<span class="go">  5  6  7  8  9</span>
<span class="go"> 10 11 12 13 14</span>
<span class="go"> 15 16 17 18 19</span>
<span class="go"> 20 21 22 23 24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>  <span class="c1"># maximum filter</span>
<span class="go">  6  7  8  9  9</span>
<span class="go"> 11 12 13 14 14</span>
<span class="go"> 16 17 18 19 19</span>
<span class="go"> 21 22 23 24 24</span>
<span class="go"> 21 22 23 24 24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>  <span class="c1"># minimum filter</span>
<span class="go">  0  0  1  2  3</span>
<span class="go">  0  0  1  2  3</span>
<span class="go">  5  5  6  7  8</span>
<span class="go"> 10 10 11 12 13</span>
<span class="go"> 15 15 16 17 18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>  <span class="c1"># median filter</span>
<span class="go">  1  2  3  4  4</span>
<span class="go">  5  6  7  8  9</span>
<span class="go"> 10 11 12 13 14</span>
<span class="go"> 15 16 17 18 19</span>
<span class="go"> 20 20 21 22 23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>  <span class="c1"># median filter</span>
<span class="go">  1  2  3  4  4</span>
<span class="go">  5  6  7  8  9</span>
<span class="go"> 10 11 12 13 14</span>
<span class="go"> 15 16 17 18 19</span>
<span class="go"> 20 20 21 22 23</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The footprint should have an odd side length.</p></li>
<li><p>The input can be logical, uint8, uint16, float or double, the
output is always double.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.rank_filter.html#scipy.ndimage.rank_filter" title="(in SciPy v1.14.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.ndimage.rank_filter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.medianfilter">
<span class="sig-name descname"><span class="pre">medianfilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.medianfilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.medianfilter" title="Link to this definition"></a></dt>
<dd><p>Median filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half width of structuring element, defaults to 1</p></li>
<li><p><strong>kwargs</strong> – options passed to <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rank</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>median filtered image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Return the median filtered image.  For every <span class="math notranslate nohighlight">\(w \times w, w=2h+1\)</span>
window take the median value as the output pixel value.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.9.20/x64/lib/python3.9/site-packages/machinevisiontoolbox/ImageSpatial.py&quot;</span>, line <span class="m">1287</span>, in <span class="n">rank</span>
<span class="w">    </span><span class="n">out</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rank_filter</span><span class="p">(</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.9.20/x64/lib/python3.9/site-packages/scipy/ndimage/_filters.py&quot;</span>, line <span class="m">1543</span>, in <span class="n">rank_filter</span>
<span class="w">    </span><span class="k">return</span> <span class="n">_rank_filter</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">footprint</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cval</span><span class="p">,</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.9.20/x64/lib/python3.9/site-packages/scipy/ndimage/_filters.py&quot;</span>, line <span class="m">1454</span>, in <span class="n">_rank_filter</span>
<span class="w">    </span><span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;footprint array has incorrect shape.&#39;</span><span class="p">)</span>
<span class="gr">RuntimeError</span>: <span class="n">footprint array has incorrect shape.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>This filter is effective for removing impulse (aka
salt and pepper) noise.</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.3, P. Corke,
Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rank</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.distance_transform">
<span class="sig-name descname"><span class="pre">distance_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.distance_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.distance_transform" title="Link to this definition"></a></dt>
<dd><p>Distance transform</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>invert</strong> (<em>bool</em><em>, </em><em>optional</em>) – consider inverted image, defaults to False</p></li>
<li><p><strong>norm</strong> (<em>str</em><em>, </em><em>optional</em>) – distance metric: ‘L1’ or ‘L2’ [default]</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half width of window, defaults to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>distance transform of image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Compute the distance transform. For each zero input pixel, compute its
distance to the nearest non-zero input pixel.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pixels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pixels</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pixels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">distance_transform</span><span class="p">()</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go"> 2.324 1.910 1.910 2.324 2.739</span>
<span class="go"> 1.369 0.955 0.955 1.369 2.324</span>
<span class="go"> 0.955 0.000 0.000 0.955 1.910</span>
<span class="go"> 1.369 0.955 0.955 1.369 2.324</span>
<span class="go"> 2.324 1.910 1.910 2.324 2.739</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">distance_transform</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 3.00 2.00 2.00 3.00 4.00</span>
<span class="go"> 2.00 1.00 1.00 2.00 3.00</span>
<span class="go"> 1.00 0.00 0.00 1.00 2.00</span>
<span class="go"> 2.00 1.00 1.00 2.00 3.00</span>
<span class="go"> 3.00 2.00 2.00 3.00 4.00</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The output image is the same size as the input image.</p></li>
<li><p>Distance is computed using a sliding window and is an
approximation of true distance.</p></li>
<li><p>For non-zero input pixels the corresponding output pixels are set
to zero.</p></li>
<li><p>The signed-distance function is <code class="docutils literal notranslate"><span class="pre">image.distance_transform()</span> <span class="pre">-</span> <span class="pre">image.distance_transform(invert=True)</span></code></p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.6.4, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.opencv.org/3.4/d7/d1b/group__imgproc__misc.html#ga8a0b7fdfcb7a13dde018988ba3a43042">opencv.distanceTransform</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary">
<span class="sig-name descname"><span class="pre">labels_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ltype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'int32'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.labels_binary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary" title="Link to this definition"></a></dt>
<dd><p>Blob labelling</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connectivity</strong> (<em>int</em><em>, </em><em>optional</em>) – number of neighbours used for connectivity: 4 [default] or 8</p></li>
<li><p><strong>ltype</strong> (<em>string</em><em>, </em><em>optional</em>) – output image type: ‘int32’ [default], ‘uint16’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>label image, number of regions</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, int</p>
</dd>
</dl>
<p>Compute labels of connected components in the input greyscale or binary
image. Regions are sets of contiguous pixels with the same value.</p>
<p>The method returns the label image and the number of labels N, so labels
lie in the range [0, N-1].The value in the label image in an integer
indicating which region the corresponding input pixel belongs to.  The
background has label 0.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Squares</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">labels_binary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 2 2 2 2 2 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 2 2 2 2 2 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 2 2 2 2 2 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 2 2 2 2 2 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 2 2 2 2 2 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 3 3 3 3 3 0 4 4 4 4 4 0 0</span>
<span class="go"> 0 0 3 3 3 3 3 0 4 4 4 4 4 0 0</span>
<span class="go"> 0 0 3 3 3 3 3 0 4 4 4 4 4 0 0</span>
<span class="go"> 0 0 3 3 3 3 3 0 4 4 4 4 4 0 0</span>
<span class="go"> 0 0 3 3 3 3 3 0 4 4 4 4 4 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>This algorithm is variously known as region labelling,
connectivity analysis, region coloring, connected component analysis,
blob labelling.</p></li>
<li><p>The output image is the same size as the input image.</p></li>
<li><p>The input image can be binary or greyscale.</p></li>
<li><p>Connectivity is performed using 4 nearest neighbours by default.</p></li>
<li><p>8-way connectivity introduces ambiguities, a chequerboard is
two blobs.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 12.1.2.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">blobs</span></code> <a class="reference external" href="https://docs.opencv.org/master/d3/dc0/group__imgproc__shape.html#gaedef8c7340499ca391d459122e51bef5">cv2.connectedComponents</a>
<a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_graphseg</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_MSER</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER">
<span class="sig-name descname"><span class="pre">labels_MSER</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.labels_MSER"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER" title="Link to this definition"></a></dt>
<dd><p>Blob labelling using MSER</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – arguments passed to <code class="docutils literal notranslate"><span class="pre">MSER_create</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>label image, number of regions</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, int</p>
</dd>
</dl>
<p>Compute labels of connected components in the input greyscale image.
Regions are sets of contiguous pixels that form stable regions across a
range of threshold values.</p>
<p>The method returns the label image and the number of labels N, so labels
lie in the range [0, N-1].The value in the label image in an integer
indicating which region the corresponding input pixel belongs to.  The
background has label 0.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Squares</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 1 1 1 1 1 0 1 1 1 1 1 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">labels_MSER</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="go"> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Linear time maximally stable extremal regions,
David Nistér and Henrik Stewénius,
In Computer Vision–ECCV 2008, pages 183–196. Springer, 2008.</p></li>
<li><p>Robotics, Vision &amp; Control for Python, Section 12.1.2.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_binary</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_graphseg</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">blobs</span></code> <a class="reference external" href="https://docs.opencv.org/3.4/d3/d28/classcv_1_1MSER.html">opencv.MSER_create</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg">
<span class="sig-name descname"><span class="pre">labels_graphseg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.labels_graphseg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_graphseg" title="Link to this definition"></a></dt>
<dd><p>Blob labelling using graph-based segmentation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – arguments passed to <code class="docutils literal notranslate"><span class="pre">MSER_create</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>label image, number of regions</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, int</p>
</dd>
</dl>
<p>Compute labels of connected components in the input color image. Regions
are sets of contiguous pixels that are similar with respect to their
surrounds.</p>
<p>The method returns the label image and the number of labels N, so labels
lie in the range [0, N-1].The value in the label image in an integer
indicating which region the corresponding input pixel belongs to.  The
background has label 0.</p>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Efficient graph-based image segmentation,
Pedro F Felzenszwalb and Daniel P Huttenlocher,
volume 59, pages 167–181. Springer, 2004.</p></li>
<li><p>Robotics, Vision &amp; Control for Python, Section 12.1.2.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_binary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_binary</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.labels_MSER"><code class="xref py py-meth docutils literal notranslate"><span class="pre">labels_MSER</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">blobs</span></code> <a class="reference external" href="https://docs.opencv.org/3.4/d5/df0/group__ximgproc__segmentation.html#ga5e3e721c5f16e34d3ad52b9eeb6d2860">opencv.createGraphSegmentation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad">
<span class="sig-name descname"><span class="pre">sad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.sad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad" title="Link to this definition"></a></dt>
<dd><p>Sum of absolute differences</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sum of absolute differences</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns a simple image disimilarity measure which is the sum of absolute
differences between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>.   The result is a scalar
and a value of 0 indicates identical pixel patterns and is increasingly
positive as image dissimilarity increases.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">sad</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">sad</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">986</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">sad</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">982</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>Not invariant to pixel value scale or offset.</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zsad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssd</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ncc</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd">
<span class="sig-name descname"><span class="pre">ssd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.ssd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd" title="Link to this definition"></a></dt>
<dd><p>Sum of squared differences</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sum of squared differences</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns a simple image disimilarity measure which is the sum of the
squared differences between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>.   The result is a
scalar and a value of 0 indicates identical pixel patterns and is
increasingly positive as image dissimilarity increases.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ssd</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ssd</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">364</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ssd</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">454</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>Not invariant to pixel value scale or offset.</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zssd</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ncc</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc">
<span class="sig-name descname"><span class="pre">ncc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.ncc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc" title="Link to this definition"></a></dt>
<dd><p>Normalised cross correlation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>normalised cross correlation</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns an image similarity measure which is the normalized
cross-correlation between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>. The result is a
scalar in the interval -1 (non match) to 1 (perfect match) that
indicates similarity.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ncc</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">0.9970145759536657</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ncc</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">1.395820406335132</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">ncc</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.2678511640312011</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">ncc</span></code> similarity measure is invariant to scale changes in
image intensity.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zncc</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssd</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad">
<span class="sig-name descname"><span class="pre">zsad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.zsad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad" title="Link to this definition"></a></dt>
<dd><p>Zero-mean sum of absolute differences</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sum of absolute differences</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns a simple image disimilarity measure which is the zero-mean sum
of absolute differences between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>.   The result
is a scalar and a value of 0 indicates identical pixel patterns
(relative to their mean values) and is increasingly positive as image
dissimilarity increases.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zsad</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zsad</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zsad</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">6.0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">zsad</span></code> similarity measure is invariant to changes in image
brightness offset.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zsad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zsad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssd</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ncc</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd">
<span class="sig-name descname"><span class="pre">zssd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.zssd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd" title="Link to this definition"></a></dt>
<dd><p>Zero-mean sum of squared differences</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sum of squared differences</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns a simple image disimilarity measure which is the zero-mean sum of the
squared differences between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>.   The result is a
scalar and a value of 0 indicates identical pixel patterns (relative to their maen) and is
increasingly positive as image dissimilarity increases.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zssd</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zssd</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zssd</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">13.0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">zssd</span></code> similarity measure is invariant to changes in image
brightness offset.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zssd</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ncc</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc">
<span class="sig-name descname"><span class="pre">zncc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.zncc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc" title="Link to this definition"></a></dt>
<dd><p>Zero-mean normalized cross correlation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – second image</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – image2 shape is not equal to self</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>normalised cross correlation</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>scalar</p>
</dd>
</dl>
<p>Returns an image similarity measure which is the zero-mean normalized
cross-correlation between the image and <code class="docutils literal notranslate"><span class="pre">image2</span></code>. The result is a
scalar in the interval -1 (non match) to 1 (perfect match) that
indicates similarity.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zncc</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span>
<span class="go">0.7302967433402214</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zncc</span><span class="p">(</span><span class="n">img2</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="go">0.7302967433402214</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img1</span><span class="o">.</span><span class="n">zncc</span><span class="p">(</span><span class="n">img2</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.7302967433402214</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">zncc</span></code> similarity measure is invariant to affine changes (offset and scale factor)
in image intensity (brightness offset and scale).</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.zncc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zncc</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.sad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sad</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd" title="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.ssd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssd</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.similarity">
<span class="sig-name descname"><span class="pre">similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zncc'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#ImageSpatialMixin.similarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.ImageSpatialMixin.similarity" title="Link to this definition"></a></dt>
<dd><p>Locate template in image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>ndarray</em><em>(</em><em>N</em><em>,</em><em>M</em><em>)</em>) – template image</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – similarity metric, one of: ‘ssd’, ‘zssd’, ‘ncc’, ‘zncc’ [default]</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – template T must have odd dimensions</p></li>
<li><p><strong>ValueError</strong> – bad metric specified</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>similarity image</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Compute a similarity image where each output pixel is the similarity of
the template <code class="docutils literal notranslate"><span class="pre">T</span></code> to the same-sized neighbourhood surrounding the
corresonding input pixel in image.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crowd</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s2">&quot;wheres-wally.png&quot;</span><span class="p">,</span> <span class="n">mono</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s2">&quot;wally.png&quot;</span><span class="p">,</span> <span class="n">mono</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">crowd</span><span class="o">.</span><span class="n">similarity</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="s2">&quot;zncc&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">disp</span><span class="p">(</span><span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;signed&quot;</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7f0c24bdc370&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>For NCC and ZNCC the maximum similarity value corresponds to the most likely
template location.  For SSD and ZSSD the minimum value
corresponds to the most likely location.</p></li>
<li><p>Similarity is not computed for those pixels where the template
crosses the image boundary, and these output pixels are set
to NaN.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.opencv.org/master/df/dfb/group__imgproc__object.html#ga586ebfb0a7fb604b35a23d85391329be">cv2.matchTemplate</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="image-kernels">
<h2>Image kernels<a class="headerlink" href="#image-kernels" title="Link to this heading"></a></h2>
<p>These class methods define standard image kernels</p>
<dl class="py class">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.ImageSpatial.</span></span><span class="sig-name descname"><span class="pre">Kernel</span></span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel" title="Link to this definition"></a></dt>
<dd><p>Image processing kernel operations on the Image class</p>
<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.Gauss">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Gauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.Gauss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.Gauss" title="Link to this definition"></a></dt>
<dd><p>Gaussian kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of Gaussian kernel</p></li>
<li><p><strong>h</strong> (<em>integer</em><em>, </em><em>optional</em>) – half width of the kernel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Gaussian kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Return the 2-dimensional Gaussian kernel of standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code></p>
<div class="math notranslate nohighlight">
\[\mathbf{K} = \frac{1}{2\pi \sigma^2} e^{-(u^2 + v^2) / 2 \sigma^2}\]</div>
<p>The kernel is centred within a square array with side length given by:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(2 \mbox{ceil}(3 \sigma) + 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(2 \mathtt{h} + 1\)</span></p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="n">Kernel</span><span class="o">.</span><span class="n">Gauss</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(5, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span>
<span class="go">array([[0.003 , 0.0133, 0.0219, 0.0133, 0.003 ],</span>
<span class="go">       [0.0133, 0.0596, 0.0983, 0.0596, 0.0133],</span>
<span class="go">       [0.0219, 0.0983, 0.1621, 0.0983, 0.0219],</span>
<span class="go">       [0.0133, 0.0596, 0.0983, 0.0596, 0.0133],</span>
<span class="go">       [0.003 , 0.0133, 0.0219, 0.0133, 0.003 ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="n">Kernel</span><span class="o">.</span><span class="n">Gauss</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(13, 13)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The volume under the Gaussian kernel is one.</p></li>
<li><p>If the kernel is strongly truncated, ie. it is non-zero at the
edges of the window then the volume will be less than one.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.DGauss.html#machinevisiontoolbox.ImageSpatial.Kernel.DGauss" title="machinevisiontoolbox.ImageSpatial.Kernel.DGauss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DGauss</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.Laplace">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Laplace</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.Laplace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.Laplace" title="Link to this definition"></a></dt>
<dd><p>Laplacian kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Laplacian kernel</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(3,3)</p>
</dd>
</dl>
<p>Return the Laplacian kernel</p>
<div class="math notranslate nohighlight">
\[\begin{split}\mathbf{K} = \begin{bmatrix}
    0 &amp; 1 &amp; 0 \\
    1 &amp; -4 &amp; 1 \\
    0 &amp; 1 &amp; 0
    \end{bmatrix}\end{split}\]</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Laplace</span><span class="p">()</span>
<span class="go">array([[ 0,  1,  0],</span>
<span class="go">       [ 1, -4,  1],</span>
<span class="go">       [ 0,  1,  0]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>This kernel has an isotropic response to image gradient.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.LoG.html#machinevisiontoolbox.ImageSpatial.Kernel.LoG" title="machinevisiontoolbox.ImageSpatial.Kernel.LoG"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LoG</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">zerocross</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.Sobel">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Sobel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.Sobel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.Sobel" title="Link to this definition"></a></dt>
<dd><p>Sobel edge detector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sobel kernel</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(3,3)</p>
</dd>
</dl>
<p>Return the Sobel kernel for horizontal gradient</p>
<div class="math notranslate nohighlight">
\[\begin{split}\mathbf{K} = \frac{1}{8} \begin{bmatrix}
    1 &amp; 0 &amp; -1 \\
    2 &amp; 0 &amp; -2 \\
    1 &amp; 0 &amp; -1
    \end{bmatrix}\end{split}\]</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Sobel</span><span class="p">()</span>
<span class="go">array([[ 0.125,  0.   , -0.125],</span>
<span class="go">       [ 0.25 ,  0.   , -0.25 ],</span>
<span class="go">       [ 0.125,  0.   , -0.125]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>This kernel is an effective vertical-edge detector</p></li>
<li><p>The y-derivative (horizontal-edge) kernel is <code class="docutils literal notranslate"><span class="pre">K.T</span></code></p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.DGauss.html#machinevisiontoolbox.ImageSpatial.Kernel.DGauss" title="machinevisiontoolbox.ImageSpatial.Kernel.DGauss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DGauss</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.DoG">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoG</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.DoG"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.DoG" title="Link to this definition"></a></dt>
<dd><p>Difference of Gaussians kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma1</strong> (<em>float</em>) – standard deviation of first Gaussian kernel</p></li>
<li><p><strong>sigma2</strong> (<em>float</em><em>, </em><em>optional</em>) – standard deviation of second Gaussian kernel</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half-width of Gaussian kernel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>difference of Gaussian kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Return the 2-dimensional difference of Gaussian kernel defined by two
standard deviation values:</p>
<div class="math notranslate nohighlight">
\[\mathbf{K} = G(\sigma_1) - G(\sigma_2)\]</div>
<p>where <span class="math notranslate nohighlight">\(\sigma_1 &gt; \sigma_2\)</span>.
By default, <span class="math notranslate nohighlight">\(\sigma_2 = 1.6 \sigma_1\)</span>.</p>
<p>The kernel is centred within a square array with side length given by:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(2 \mbox{ceil}(3 \sigma) + 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(2\mathtt{h} + 1\)</span></p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">DoG</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 0.0019,  0.0049,  0.0082,  0.0095,  0.0082,  0.0049,  0.0019],</span>
<span class="go">       [ 0.0049,  0.0108,  0.0116,  0.0085,  0.0116,  0.0108,  0.0049],</span>
<span class="go">       [ 0.0082,  0.0116, -0.0142, -0.0427, -0.0142,  0.0116,  0.0082],</span>
<span class="go">       [ 0.0095,  0.0085, -0.0427, -0.0937, -0.0427,  0.0085,  0.0095],</span>
<span class="go">       [ 0.0082,  0.0116, -0.0142, -0.0427, -0.0142,  0.0116,  0.0082],</span>
<span class="go">       [ 0.0049,  0.0108,  0.0116,  0.0085,  0.0116,  0.0108,  0.0049],</span>
<span class="go">       [ 0.0019,  0.0049,  0.0082,  0.0095,  0.0082,  0.0049,  0.0019]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>This kernel is similar to the Laplacian of Gaussian and is often
used as an efficient approximation.</p></li>
<li><p>This is a “Mexican hat” shaped kernel</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.LoG.html#machinevisiontoolbox.ImageSpatial.Kernel.LoG" title="machinevisiontoolbox.ImageSpatial.Kernel.LoG"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LoG</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Gauss.html#machinevisiontoolbox.ImageSpatial.Kernel.Gauss" title="machinevisiontoolbox.ImageSpatial.Kernel.Gauss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gauss</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.LoG">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LoG</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.LoG"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.LoG" title="Link to this definition"></a></dt>
<dd><p>Laplacian of Gaussian kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of first Gaussian kernel</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half-width of kernel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Return a 2-dimensional Laplacian of Gaussian kernel with
standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code></p>
<div class="math notranslate nohighlight">
\[\mathbf{K} = \frac{1}{\pi \sigma^4} \left(\frac{u^2 + v^2}{2 \sigma^2} -1\right) e^{-(u^2 + v^2) / 2 \sigma^2}\]</div>
<p>The kernel is centred within a square array with side length given by:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(2 \mbox{ceil}(3 \sigma) + 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(2\mathtt{h} + 1\)</span></p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">LoG</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 0.0005,  0.0028,  0.0087,  0.0125,  0.0087,  0.0028,  0.0005],</span>
<span class="go">       [ 0.0028,  0.0177,  0.0394,  0.0432,  0.0394,  0.0177,  0.0028],</span>
<span class="go">       [ 0.0087,  0.0394,  0.0002, -0.0964,  0.0002,  0.0394,  0.0087],</span>
<span class="go">       [ 0.0125,  0.0432, -0.0964, -0.3181, -0.0964,  0.0432,  0.0125],</span>
<span class="go">       [ 0.0087,  0.0394,  0.0002, -0.0964,  0.0002,  0.0394,  0.0087],</span>
<span class="go">       [ 0.0028,  0.0177,  0.0394,  0.0432,  0.0394,  0.0177,  0.0028],</span>
<span class="go">       [ 0.0005,  0.0028,  0.0087,  0.0125,  0.0087,  0.0028,  0.0005]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>This is the classic “Mexican hat” shaped kernel</p>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Laplace.html#machinevisiontoolbox.ImageSpatial.Kernel.Laplace" title="machinevisiontoolbox.ImageSpatial.Kernel.Laplace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Laplace</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.DoG.html#machinevisiontoolbox.ImageSpatial.Kernel.DoG" title="machinevisiontoolbox.ImageSpatial.Kernel.DoG"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DoG</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Gauss.html#machinevisiontoolbox.ImageSpatial.Kernel.Gauss" title="machinevisiontoolbox.ImageSpatial.Kernel.Gauss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gauss</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">zerocross</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.DGauss">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DGauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.DGauss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.DGauss" title="Link to this definition"></a></dt>
<dd><p>Derivative of Gaussian kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of first Gaussian kernel</p></li>
<li><p><strong>h</strong> (<em>int</em><em>, </em><em>optional</em>) – half-width of kernel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Returns a 2-dimensional derivative of Gaussian
kernel with standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code></p>
<div class="math notranslate nohighlight">
\[\mathbf{K} = \frac{-x}{2\pi \sigma^2} e^{-(x^2 + y^2) / 2 \sigma^2}\]</div>
<p>The kernel is centred within a square array with side length given by:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(2 \mbox{ceil}(3 \sigma) + 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(2\mathtt{h} + 1\)</span></p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">DGauss</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 0.0001,  0.0005,  0.0011, -0.    , -0.0011, -0.0005, -0.0001],</span>
<span class="go">       [ 0.0007,  0.0058,  0.0131, -0.    , -0.0131, -0.0058, -0.0007],</span>
<span class="go">       [ 0.0032,  0.0261,  0.0585, -0.    , -0.0585, -0.0261, -0.0032],</span>
<span class="go">       [ 0.0053,  0.0431,  0.0965, -0.    , -0.0965, -0.0431, -0.0053],</span>
<span class="go">       [ 0.0032,  0.0261,  0.0585, -0.    , -0.0585, -0.0261, -0.0032],</span>
<span class="go">       [ 0.0007,  0.0058,  0.0131, -0.    , -0.0131, -0.0058, -0.0007],</span>
<span class="go">       [ 0.0001,  0.0005,  0.0011, -0.    , -0.0011, -0.0005, -0.0001]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>This kernel is the horizontal derivative of the Gaussian, <span class="math notranslate nohighlight">\(dG/dx\)</span>.</p></li>
<li><p>The vertical derivative, <span class="math notranslate nohighlight">\(dG/dy\)</span>, is the transpose of this kernel.</p></li>
<li><p>This kernel is an effective edge detector.</p></li>
</ul>
</dd>
<dt class="field-even">References<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.3, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Gauss.html#machinevisiontoolbox.ImageSpatial.Kernel.Gauss" title="machinevisiontoolbox.ImageSpatial.Kernel.Gauss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gauss</span></code></a> <a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Sobel.html#machinevisiontoolbox.ImageSpatial.Kernel.Sobel" title="machinevisiontoolbox.ImageSpatial.Kernel.Sobel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sobel</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.Circle">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Circle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uint8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.Circle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.Circle" title="Link to this definition"></a></dt>
<dd><p>Circular structuring element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>scalar</em><em>, </em><em>array_like</em><em>(</em><em>2</em><em>)</em>) – radius of circular structuring element</p></li>
<li><p><strong>h</strong> (<em>int</em>) – half-width of kernel</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>optional</em>) – normalize volume of kernel to one, defaults to False</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> or </em><em>NumPy dtype</em><em>, </em><em>optional</em>) – data type for image, defaults to <code class="docutils literal notranslate"><span class="pre">uint8</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>circular kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Returns a circular kernel of radius <code class="docutils literal notranslate"><span class="pre">radius</span></code> pixels. Sometimes referred
to as a tophat kernel. Values inside the circle are set to one,
outside are set to zero.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">radius</span></code> is a 2-element vector the result is an annulus of ones,
and the two numbers are interpretted as inner and outer radii
respectively.</p>
<p>The kernel is centred within a square array with side length given
by <span class="math notranslate nohighlight">\(2\mathtt{h} + 1\)</span>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Circle</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([[0, 0, 1, 0, 0],</span>
<span class="go">       [0, 1, 1, 1, 0],</span>
<span class="go">       [1, 1, 1, 1, 1],</span>
<span class="go">       [0, 1, 1, 1, 0],</span>
<span class="go">       [0, 0, 1, 0, 0]], dtype=uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Circle</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 0],</span>
<span class="go">       [0, 1, 1, 1, 1, 1, 0],</span>
<span class="go">       [0, 1, 0, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 1, 1],</span>
<span class="go">       [0, 1, 0, 0, 0, 1, 0],</span>
<span class="go">       [0, 1, 1, 1, 1, 1, 0],</span>
<span class="go">       [0, 0, 0, 1, 0, 0, 0]], dtype=uint8)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Box.html#machinevisiontoolbox.ImageSpatial.Kernel.Box" title="machinevisiontoolbox.ImageSpatial.Kernel.Box"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Box</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageSpatial.Kernel.Box">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageSpatial.html#Kernel.Box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageSpatial.Kernel.Box" title="Link to this definition"></a></dt>
<dd><p>Square structuring element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>int</em>) – half-width of kernel</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>optional</em>) – normalize volume of kernel to one, defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>kernel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray(2h+1, 2h+1)</p>
</dd>
</dl>
<p>Returns a square kernel with unit volume.</p>
<p>The kernel is centred within a square array with side length given
by <span class="math notranslate nohighlight">\(2\mathtt{h} + 1\)</span>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Kernel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([[0.04, 0.04, 0.04, 0.04, 0.04],</span>
<span class="go">       [0.04, 0.04, 0.04, 0.04, 0.04],</span>
<span class="go">       [0.04, 0.04, 0.04, 0.04, 0.04],</span>
<span class="go">       [0.04, 0.04, 0.04, 0.04, 0.04],</span>
<span class="go">       [0.04, 0.04, 0.04, 0.04, 0.04]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kernel</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">array([[1., 1., 1., 1., 1.],</span>
<span class="go">       [1., 1., 1., 1., 1.],</span>
<span class="go">       [1., 1., 1., 1., 1.],</span>
<span class="go">       [1., 1., 1., 1., 1.],</span>
<span class="go">       [1., 1., 1., 1., 1.]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.5.1.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="stubs/kernel/machinevisiontoolbox.ImageSpatial.Kernel.Circle.html#machinevisiontoolbox.ImageSpatial.Kernel.Circle" title="machinevisiontoolbox.ImageSpatial.Kernel.Circle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Circle</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, Peter Corke.
      <span class="lastupdated">Last updated on 08-Dec-2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>