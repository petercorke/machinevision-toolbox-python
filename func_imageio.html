<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image input/output operations &mdash; Machine Vision Toolbox 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"presup": ["\\,{}^{#1}\\!", 1], "SE": ["\\mathbf{SE}(#1)", 1], "SO": ["\\mathbf{SO}(#1)", 1], "se": ["\\mathbf{se}(#1)", 1], "so": ["\\mathbf{so}(#1)", 1], "vec": ["\\boldsymbol{#1}", 1], "dvec": ["\\dot{\\boldsymbol{#1}}", 1], "hvec": ["\\tilde{\\boldsymbol{#1}}", 1], "ddvec": ["\\ddot{\\boldsymbol{#1}}", 1], "fvec": ["\\presup{#1}\\boldsymbol{#2}", 2], "fdvec": ["\\presup{#1}\\dot{\\boldsymbol{#2}}", 2], "fddvec": ["\\presup{#1}\\ddot{\\boldsymbol{#2}}", 2], "norm": ["\\Vert #1 \\Vert", 1], "mat": ["\\mathbf{#1}", 1], "fmat": ["\\presup{#1}\\mathbf{#2}", 2], "sk": ["\\left[#1\\right]", 1], "skx": ["\\left[#1\\right]_{\\times}", 1], "vex": ["\\vee\\left( #1\\right)", 1], "vexx": ["\\vee_{\\times}\\left( #1\\right)", 1], "q": "\\mathring{q}", "fq": ["\\presup{#1}\\mathring{q}", 1]}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Image type conversions" href="func_types.html" />
    <link rel="prev" title="Function reference" href="low-level.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Machine Vision Toolbox
            <img src="_static/VisionToolboxLogo_CircBlack.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="high-level.html">Class reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="low-level.html">Function reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Image input/output operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#machinevisiontoolbox.base.imageio.idisp"><code class="docutils literal notranslate"><span class="pre">idisp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#machinevisiontoolbox.base.imageio.iread"><code class="docutils literal notranslate"><span class="pre">iread</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#machinevisiontoolbox.base.imageio.convert"><code class="docutils literal notranslate"><span class="pre">convert</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#machinevisiontoolbox.base.imageio.iwrite"><code class="docutils literal notranslate"><span class="pre">iwrite</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#machinevisiontoolbox.base.imageio.pickpoints"><code class="docutils literal notranslate"><span class="pre">pickpoints</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="func_types.html">Image type conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_color.html">Color operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_graphics.html">Graphics operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_peak.html">Peak finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_data.html">Data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_shapes.html">Shape models</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_cm.html">Coordinate matrices</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine Vision Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="low-level.html">Function reference</a> &raquo;</li>
      <li>Image input/output operations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/func_imageio.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="low-level.html" class="btn btn-neutral float-left" title="Function reference" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="func_types.html" class="btn btn-neutral float-right" title="Image type conversions" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-input-output-operations">
<h1>Image input/output operations<a class="headerlink" href="#image-input-output-operations" title="Permalink to this heading"></a></h1>
<p>A set of functions to read, write, and display images represented as
NumPy arrays.</p>
<span class="target" id="module-machinevisiontoolbox.base.imageio"></span><dl class="py function">
<dt class="sig sig-object py" id="machinevisiontoolbox.base.imageio.idisp">
<span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.base.imageio.</span></span><span class="sig-name descname"><span class="pre">idisp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matplotlib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reuse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncolors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">black</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">darken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">powernorm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">badcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">undercolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Machine</span> <span class="pre">Vision</span> <span class="pre">Toolbox</span> <span class="pre">for</span> <span class="pre">Python'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">square</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ynormal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefigname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colororder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RGB'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/base/imageio.html#idisp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.base.imageio.idisp" title="Permalink to this definition"></a></dt>
<dd><p>Interactive image display tool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> (<em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>, </em><em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>,</em><em>3</em><em>)</em>) – image to display</p></li>
<li><p><strong>bgr</strong> (<em>bool</em><em>, </em><em>optional</em>) – image is in BGR (native OpenCV color) order, defaults to False</p></li>
<li><p><strong>matplotlib</strong> (<em>bool</em><em>, </em><em>optional</em>) – plot using Matplotlib (True) or OpenCV (False), defaults to True</p></li>
<li><p><strong>block</strong> (<em>bool</em><em>, </em><em>optional</em>) – Matplotlib figure blocks until window closed, defaults to False</p></li>
<li><p><strong>fig</strong> (<em>int</em><em>, </em><em>optional</em>) – Matplotlib figure handle to display image on, defaults to new figure</p></li>
<li><p><strong>ax</strong> (<em>axis object</em><em>, </em><em>optional</em>) – Matplotlib axis object to plot on, defaults to new axis</p></li>
<li><p><strong>reuse</strong> (<em>bool</em><em>, </em><em>optional</em>) – plot into current figure, skips setup overhead, defaults to False</p></li>
<li><p><strong>colormap</strong> (<em>str</em><em> or </em><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.6.0)"><em>matplotlib.colors.Colormap</em></a>) – colormap name or Matplotlib colormap object</p></li>
<li><p><strong>ncolors</strong> (<em>int</em><em>, </em><em>optional</em>) – number of colors in colormap</p></li>
<li><p><strong>black</strong> (<em>int</em><em> or </em><em>float</em>) – set black (zero) pixels to this value, default 0</p></li>
<li><p><strong>darken</strong> (<em>float</em><em>, </em><em>bool</em><em>, </em><em>optional</em>) – darken the image by scaling pixel values by this amount,
if <code class="docutils literal notranslate"><span class="pre">darken</span></code> is True then darken by 0.5</p></li>
<li><p><strong>powernorm</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em><em>, </em><em>optional</em>) – Matplotlib power-law normalization</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>optional</em>) – gamma correction applied before display</p></li>
<li><p><strong>vrange</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em><em>, </em><em>optional</em>) – minimum and maximum values for colormap, defaults to minimum 
and maximum values from image data.</p></li>
<li><p><strong>badcolor</strong> (<em>str</em><em>, </em><em>optional</em>) – name of color to display when value is NaN</p></li>
<li><p><strong>undercolor</strong> (<em>str</em><em>, </em><em>optional</em>) – name of color to display when value is less than colormap minimum</p></li>
<li><p><strong>overcolor</strong> (<em>str</em><em>, </em><em>optional</em>) – name of color to display when value is less than colormap maximum</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – title of figure in figure window</p></li>
<li><p><strong>grid</strong> – display grid lines over image, default False</p></li>
<li><p><strong>axes</strong> (<em>bool</em><em>, </em><em>optional</em>) – display axes on the image, default True</p></li>
<li><p><strong>gui</strong> (<em>bool</em><em>, </em><em>optional</em>) – display GUI/interactive buttons, default True</p></li>
<li><p><strong>frame</strong> (<em>bool</em><em>, </em><em>optional</em>) – display frame around the image, default True</p></li>
<li><p><strong>plain</strong> (<em>bool</em><em>, </em><em>optional</em>) – don’t display axes, frame or GUI</p></li>
<li><p><strong>colorbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – add colorbar to image, default False</p></li>
<li><p><strong>width</strong> (<em>float</em><em>, </em><em>optional</em>) – figure width in millimetres, defaults to Matplotlib default</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>optional</em>) – figure height in millimetres, defaults to Matplotlib default</p></li>
<li><p><strong>square</strong> (<em>bool</em><em>, </em><em>optional</em>) – set aspect ratio so that pixels are square, default True</p></li>
<li><p><strong>ynormal</strong> (<em>bool</em><em>, </em><em>optional</em>) – y-axis increases upward, default False</p></li>
<li><p><strong>extent</strong> (<em>array_like</em><em>(</em><em>4</em><em>)</em><em>, </em><em>optional</em>) – extent of the image in user units [xmin, xmax, ymin, ymax]</p></li>
<li><p><strong>savefigname</strong> (<em>str</em><em>, </em><em>optional</em>) – if not None, save figure as savefigname (default eps)</p></li>
<li><p><strong>colororder</strong> (<em>str</em>) – color order, used for interactive value picker only, defaults to “RGB”</p></li>
<li><p><strong>kwargs</strong> – additional options passed through to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.6.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Matplotlib figure handle and axes handle</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>figure handle, axes handle</p>
</dd>
</dl>
<p>Display a greyscale or color image using Matplotlib (if <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> is
True) or OpenCV.  The Matplotlib display is interactive allowing zooming and
pixel value picking.</p>
<p>Greyscale images are displayed in indexed mode: the image pixel value is
mapped through the color map to determine the display pixel value. The
colormap is specified by a string or else a <code class="docutils literal notranslate"><span class="pre">Colormap</span></code> subclass object.
Valid strings are any valid <a class="reference external" href="https://matplotlib.org/tutorials/colors/colormaps.html">matplotlib colormap names</a> or</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Colormap</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>grey</p></td>
<td><p>zero is black, maximum value is white</p></td>
</tr>
<tr class="row-odd"><td><p>inverted</p></td>
<td><p>zero is white, maximum value is black</p></td>
</tr>
<tr class="row-even"><td><p>signed</p></td>
<td><p>negative is red, 0 is white, positive is blue</p></td>
</tr>
<tr class="row-odd"><td><p>invsigned</p></td>
<td><p>negative is red, 0 is black, positive is blue</p></td>
</tr>
<tr class="row-even"><td><p>random</p></td>
<td><p>random values</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">iread</span><span class="p">,</span> <span class="n">idisp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="p">,</span> <span class="n">file</span> <span class="o">=</span> <span class="n">iread</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idisp</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>For grey scale images the minimum and maximum image values are
mapped to the first and last element of the color map, which by
default (‘grey’) is the range black to white. To set your own
scaling between displayed grey level and pixel value use the <code class="docutils literal notranslate"><span class="pre">vrange</span></code>
option.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 10.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.imshow</span></code> <a class="reference external" href="https://docs.opencv.org/4.x/d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv2.imshow</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="machinevisiontoolbox.base.imageio.iread">
<span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.base.imageio.</span></span><span class="sig-name descname"><span class="pre">iread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/base/imageio.html#iread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.base.imageio.iread" title="Permalink to this definition"></a></dt>
<dd><p>Read image from file or URL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – file name or URL</p></li>
<li><p><strong>kwargs</strong> – key word arguments passed to <a class="reference internal" href="#machinevisiontoolbox.base.imageio.convert" title="machinevisiontoolbox.base.imageio.convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image and filename</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (ndarray, str) or list of tuples, image is
a 2D or 3D NumPy ndarray</p>
</dd>
</dl>
<p>Loads an image from a file or URL, and returns the
image as a NumPy array, as well as the absolute path name.  The
image can by greyscale or color in any of the wide range of formats
supported by the OpenCV <code class="docutils literal notranslate"><span class="pre">imread</span></code> function.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">file</span></code> is a list or contains a wildcard, the result will be a list of
<code class="docutils literal notranslate"><span class="pre">(image,</span> <span class="pre">path)</span></code> tuples.  They will be sorted by path.</p>
<p>Extra options can be passsed to perform datatype conversion, color to
grey scale conversion, gamma correction, image decimation or region of
interest windowing.  Details are given at <a class="reference internal" href="#machinevisiontoolbox.base.imageio.convert" title="machinevisiontoolbox.base.imageio.convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">  File &quot;/opt/hostedtoolcache/Python/3.7.14/x64/lib/python3.7/importlib/__init__.py&quot;, line 127, in import_module</span>
<span class="go">    return _bootstrap._gcd_import(name[level:], package, level)</span>
<span class="go">  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1006, in _gcd_import</span>
<span class="go">  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 983, in _find_and_load</span>
<span class="go">  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 965, in _find_and_load_unlocked</span>
<span class="go">ModuleNotFoundError: No module named &#39;mvtbdata&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;file&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.14/x64/lib/python3.7/site-packages/machinevisiontoolbox/base/imageio.py&quot;</span>, line <span class="m">695</span>, in <span class="n">iread</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">mvtb_path_to_datafile</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="o">*</span><span class="n">parts</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.14/x64/lib/python3.7/site-packages/machinevisiontoolbox/base/data.py&quot;</span>, line <span class="m">161</span>, in <span class="n">mvtb_path_to_datafile</span>
    <span class="n">mvtbdata</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;mvtbdata&quot;</span><span class="p">)</span>
  File <span class="nb">&quot;/opt/hostedtoolcache/Python/3.7.14/x64/lib/python3.7/importlib/__init__.py&quot;</span>, line <span class="m">127</span>, in <span class="n">import_module</span>
    <span class="k">return</span> <span class="n">_bootstrap</span><span class="o">.</span><span class="n">_gcd_import</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="n">level</span><span class="p">:],</span> <span class="n">package</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
  File <span class="nb">&quot;&lt;frozen importlib._bootstrap&gt;&quot;</span>, line <span class="m">1006</span>, in <span class="n">_gcd_import</span>
  File <span class="nb">&quot;&lt;frozen importlib._bootstrap&gt;&quot;</span>, line <span class="m">983</span>, in <span class="n">_find_and_load</span>
  File <span class="nb">&quot;&lt;frozen importlib._bootstrap&gt;&quot;</span>, line <span class="m">965</span>, in <span class="n">_find_and_load_unlocked</span>
<span class="gr">ModuleNotFoundError</span>: <span class="n">No module named &#39;mvtbdata&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;imdata&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;imdata&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;imdata&#39; is not defined</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>A greyscale image is returned as an <span class="math notranslate nohighlight">\(H \times W\)</span> array</p></li>
<li><p>A color image is returned as an <span class="math notranslate nohighlight">\(H \times W \times P\)</span> array,
typically <span class="math notranslate nohighlight">\(P=3\)</span> for an RGB or BGR image or <span class="math notranslate nohighlight">\(P=4\)</span> if there
is an alpha plane, eg. RGBA.</p></li>
<li><p>wildcard lookup is done using pathlib <code class="docutils literal notranslate"><span class="pre">Path.glob()</span></code> and supports
recursive globbing with the <code class="docutils literal notranslate"><span class="pre">**</span></code> pattern.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 10.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.base.imageio.convert" title="machinevisiontoolbox.base.imageio.convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert</span></code></a> <a class="reference external" href="https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56">cv2.imread</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="machinevisiontoolbox.base.imageio.convert">
<span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.base.imageio.</span></span><span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mono</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxintval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/base/imageio.html#convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.base.imageio.convert" title="Permalink to this definition"></a></dt>
<dd><p>Convert image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>, </em><em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>,</em><em>P</em><em>)</em>) – input image</p></li>
<li><p><strong>grey</strong> (<em>bool</em><em> or </em><em>'ITU601'</em><em> [</em><em>default</em><em>] or </em><em>'ITU709'</em>) – convert to grey scale, default False</p></li>
<li><p><strong>gray</strong> – synonym for <code class="docutils literal notranslate"><span class="pre">grey</span></code></p></li>
<li><p><strong>dtype</strong> (<em>str</em>) – a NumPy dtype string such as <code class="docutils literal notranslate"><span class="pre">&quot;uint8&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;int16&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;float32&quot;</span></code> or
a NumPy type like <code class="docutils literal notranslate"><span class="pre">np.uint8</span></code>.</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em> or </em><em>str</em>) – gamma decoding, either the exponent of “sRGB”</p></li>
<li><p><strong>alpha</strong> (<em>bool</em>) – allow alpha plane, default False</p></li>
<li><p><strong>reduce</strong> (<em>int</em>) – subsample image by this amount in u- and v-dimensions</p></li>
<li><p><strong>roi</strong> (<em>array_like</em><em>(</em><em>4</em><em>)</em>) – region of interest: [umin, umax, vmin, vmax]</p></li>
<li><p><strong>maxintval</strong> (<em>int</em>) – maximum integer value to be used for scaling</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>converted image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(H,W) or ndarray(H,W,N)</p>
</dd>
</dl>
<p>Peform common image conversion and transformations for NumPy images.</p>
<p><code class="docutils literal notranslate"><span class="pre">dtype</span></code> controls the resulting pixel data type.  If the image is a floating
type the pixels are assumed to be in the range [0, 1] and are scaled into
the range [0, <code class="docutils literal notranslate"><span class="pre">maxintval</span></code>].  If <code class="docutils literal notranslate"><span class="pre">maxintval</span></code> is not given it is taken
as the maximum value of <code class="docutils literal notranslate"><span class="pre">dtype</span></code>.</p>
<p>Gamma decoding specified by <code class="docutils literal notranslate"><span class="pre">gamma</span></code> can be applied to float or int
type images.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="machinevisiontoolbox.base.imageio.iwrite">
<span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.base.imageio.</span></span><span class="sig-name descname"><span class="pre">iwrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/base/imageio.html#iwrite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.base.imageio.iwrite" title="Permalink to this definition"></a></dt>
<dd><p>Write NumPy array to an image file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – filename to write to</p></li>
<li><p><strong>bgr</strong> (<em>bool</em><em>, </em><em>optional</em>) – image is in BGR (native OpenCV color) order, defaults to False</p></li>
<li><p><strong>kwargs</strong> – additional arguments, see ImwriteFlags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>successful write</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Writes the image <code class="docutils literal notranslate"><span class="pre">im</span></code> to <code class="docutils literal notranslate"><span class="pre">filename</span></code> using cv.imwrite(), with <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs
passed as options.  The file type is taken from the extension in
<code class="docutils literal notranslate"><span class="pre">filename</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">iwrite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>  <span class="c1"># 20x20 black image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iwrite</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s2">&quot;black.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>supports 8-bit greyscale and color images</p></li>
<li><p>supports uint16 for PNG, JPEG 2000, and TIFF formats</p></li>
<li><p>supports float32</p></li>
<li><p>image must be in BGR or RGB format</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.base.imageio.iread" title="machinevisiontoolbox.base.imageio.iread"><code class="xref py py-func docutils literal notranslate"><span class="pre">iread</span></code></a> <a class="reference external" href="https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce">cv2.imwrite</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="machinevisiontoolbox.base.imageio.pickpoints">
<span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.base.imageio.</span></span><span class="sig-name descname"><span class="pre">pickpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matplotlib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/base/imageio.html#pickpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.base.imageio.pickpoints" title="Permalink to this definition"></a></dt>
<dd><p>Pick points on image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – number of points to input, defaults to infinite number</p></li>
<li><p><strong>matplotlib</strong> (<em>bool</em><em>, </em><em>optional</em>) – plot using Matplotlib (True) or OpenCV (False), defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Picked points, one per column</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(2,n)</p>
</dd>
</dl>
<p>Allow the user to select points on the displayed image.</p>
<p>For Matplotlib, a marker is displayed at each point selected with a
left-click.  Points can be removed by a right-click, like an undo function.
middle-click or Enter-key will terminate the entry process.  If <code class="docutils literal notranslate"><span class="pre">n</span></code> is
given, the entry process terminates after <code class="docutils literal notranslate"><span class="pre">n</span></code> points are entered, but can
terminated prematurely as above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Picked coordinates have floating point values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.base.imageio.idisp" title="machinevisiontoolbox.base.imageio.idisp"><code class="xref py py-func docutils literal notranslate"><span class="pre">idisp</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="low-level.html" class="btn btn-neutral float-left" title="Function reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="func_types.html" class="btn btn-neutral float-right" title="Image type conversions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, Peter Corke.
      <span class="lastupdated">Last updated on 28-Sep-2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>